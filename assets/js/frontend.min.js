var truckpress=truckpress||{},truckpressShortCode=truckpressShortCode||{};jQuery(document).ready(function(a){"use strict";function b(a){var c=parseInt(a.html(),10);c+=10,a.html(++c),c>a.data("count")?a.html(a.data("count")):setTimeout(function(){b(a)},5)}function c(){0!==truckpressShortCode.length&&"undefined"!=typeof truckpressShortCode.testimonial&&a.each(truckpressShortCode.testimonial,function(b,c){a(document.getElementById(b)).owlCarousel({items:c.columns,navigation:!1,transitionStyle:"fade",autoPlay:c.autoplay,pagination:c.pagination,itemsTablet:[768,1],itemsDesktopSmall:[979,1],itemsDesktop:[1199,1],slideSpeed:800,paginationSpeed:1e3})})}function d(){0!==truckpressShortCode.length&&"undefined"!=typeof truckpressShortCode.postsCarousel&&a.each(truckpressShortCode.postsCarousel,function(b,c){a(document.getElementById(b)).owlCarousel({singleItem:!0,navigation:c.navigation,autoPlay:c.autoplay,pagination:!1,navigationText:['<span class="fa fa-caret-left"></span>','<span class="fa fa-caret-right"></span>'],itemsTablet:[768,1],itemsDesktopSmall:[979,1],itemsDesktop:[1199,1],slideSpeed:800,paginationSpeed:1e3})})}function e(){0!==truckpressShortCode.length&&"undefined"!=typeof truckpressShortCode.postsCarousel2&&a.each(truckpressShortCode.postsCarousel2,function(b,c){a(document.getElementById(b)).owlCarousel({singleItem:!1,items:2,navigation:c.navigation,autoPlay:c.autoplay,pagination:!1,navigationText:['<span class="fa fa-caret-left"></span>','<span class="fa fa-caret-right"></span>'],itemsTablet:[768,1],itemsDesktopSmall:[979,2],itemsDesktop:[1199,2],slideSpeed:800,paginationSpeed:1e3})})}function f(){if(0!==truckpressShortCode.length&&"undefined"!=typeof truckpressShortCode.map){var b,c,d,e={scrollwheel:!1,draggable:!0,zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},scaleControl:!1,streetViewControl:!1},f=new google.maps.LatLngBounds,h=new google.maps.InfoWindow;a.each(truckpressShortCode.map,function(a,i){var j=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:i.bg_color},{visibility:"on"}]}],k=new google.maps.StyledMapType(j,{name:"Styled Map"});for(e.zoom=parseInt(i.zoom,10),e.mapTypeControlOptions={mapTypeIds:[google.maps.MapTypeId.ROADMAP]},d=new google.maps.Map(document.getElementById(a),e),d.mapTypes.set("map_style",k),d.setMapTypeId("map_style"),c=0;c<i.number;c++){var l=i.lat,m=i.lng,n=i.info,o=new google.maps.LatLng(l[c],m[c]);f.extend(o);var p={map:d,position:o};i.marker&&(p.icon={url:i.marker}),b=new google.maps.Marker(p),g(h,d,b,n[c]),d.fitBounds(f)}})}}function g(a,b,c,d){google.maps.event.addListener(c,"click",function(){a.setContent(d),a.open(b,c)})}a(".stat-count").each(function(){a(this).data("count",parseInt(a(this).html(),10)),a(this).html("0"),b(a(this))}),a(".tp-shipment").on("click",".ts-truck-numbers",function(b){b.preventDefault();var c=a(this).parents(".tp-shipment").find(".ts-numbers").val(),d=a(this).parents(".tp-shipment").find(".tp-truck-results"),e=a(this).parents(".shipment-detail"),f="";e.addClass("loading"),c=c.split("\n");for(var g=0;g<c.length;g++)f+="|"+c[g];a.ajax({url:truckpress.ajax_url,dataType:"json",method:"post",data:{action:"truck_results",tpnonce:truckpress.nonce,numbers:f},success:function(a){window.console.log(a),d.html(a.data),e.removeClass("loading")}})}),a(".tp-shipment").on("click",".ts-truck-reference",function(b){b.preventDefault();var c=a(this).parents(".tp-shipment").find(".select-mode").val(),d=a(this).parents(".reference"),e=a(this).parents(".tp-shipment").find(".txt-reference").val(),f=a(this).parents(".tp-shipment").find(".order-location").val(),g=a(this).parents(".tp-shipment").find(".ts-between .order-days").val(),h=a(this).parents(".tp-shipment").find(".ts-between .order-months").val(),i=a(this).parents(".tp-shipment").find(".ts-between .order-years").val(),j=a(this).parents(".tp-shipment").find(".ts-and .order-days").val(),k=a(this).parents(".tp-shipment").find(".ts-and .order-months").val(),l=a(this).parents(".tp-shipment").find(".ts-and .order-years").val(),m=a(this).parents(".tp-shipment").find(".tp-truck-results");d.addClass("loading"),a.ajax({url:truckpress.ajax_url,dataType:"json",method:"post",data:{action:"truck_results",tpnonce:truckpress.nonce,mode:c,ref:e,location:f,between:i+"-"+h+"-"+g,and:l+"-"+k+"-"+j},success:function(a){m.html(a.data),d.removeClass("loading")}})}),f(),c(),d(),e()});